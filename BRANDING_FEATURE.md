# Система брендинга PressReach

## Что добавлено

### Backend
- **Модель UserBranding** в `database.py`:
  - Логотип компании (URL)
  - Фирменные цвета (основной, дополнительный, акцентный)
  - Информация о компании (название, слоган, описание, адрес)
  - Контактная информация
  - Ссылки на социальные сети
  - Настройки email (подпись, шаблон, футер)

- **API эндпоинты** в `main.py`:
  - `GET /api/branding` - получить настройки брендинга
  - `PUT /api/branding` - обновить настройки
  - `POST /api/branding/preview-email` - предпросмотр email с брендингом

- **Email шаблонизатор** в `email_template.py`:
  - `generate_email_html()` - генерация HTML письма с брендингом
  - `generate_plain_text_email()` - plain text версия для совместимости
  - Автоматическое применение цветов, логотипа, соцсетей
  - Адаптивный дизайн для всех устройств

### Frontend
- **Страница BrandingPage** (`/branding`):
  - 5 вкладок: Компания, Цвета, Контакты, Соцсети, Email
  - Интерактивный выбор цветов с предпросмотром
  - Загрузка логотипа
  - Настройка email-подписи
  - **Предпросмотр email в реальном времени**
  - Toast уведомления о сохранении

### База данных
- Создана таблица `user_branding` со всеми необходимыми полями
- Связь один-к-одному с таблицей `users`

## Как использовать

1. Перейти на страницу `/branding` в личном кабинете
2. Заполнить информацию о компании
3. Выбрать фирменные цвета
4. Добавить контакты и ссылки на соцсети
5. Настроить email-подпись
6. **Нажать "Предпросмотр email" для просмотра результата**
7. Сохранить настройки

## ✨ Автоматическое применение при рассылке

Теперь при создании рассылки:
- ✅ Автоматически загружаются настройки брендинга пользователя
- ✅ Генерируется красивый HTML email с вашим дизайном
- ✅ Применяются фирменные цвета в градиенте шапки
- ✅ Логотип отображается в верхней части письма (если включено)
- ✅ Автоматическая подпись с контактами
- ✅ Иконки социальных сетей в футере (если включено)
- ✅ Plain text версия для старых email клиентов
- ✅ Все настройки сохраняются в `press_release_data.email_html`

## Технические детали

- **Хранение логотипа**: пользователь загружает на свой хостинг и вставляет URL
- **Цвета**: в HEX формате (#RRGGBB)
- **Email подпись**: поддержка HTML
- **Автоматическое создание**: настройки по умолчанию при первом запросе
- **Адаптивный дизайн**: корректное отображение на всех устройствах
- **Безопасность**: все эндпоинты защищены Clerk авторизацией

## Что дальше

- [ ] Интеграция с почтовыми сервисами (SendGrid, Amazon SES)
- [ ] Аналитика открытий и кликов
- [ ] A/B тестирование шаблонов
- [ ] Библиотека готовых шаблонов
- [ ] Редактор шаблонов drag-and-drop
